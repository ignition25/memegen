<%= image_tag getMemeImagePath(@meme) %>
<br>
<br>
<div class="btn-group vote-buttons">
	<% vote = getUserVote @meme %>
	<button type="button" class="btn btn-default vote-button-show<%= ' active' if vote and vote.value == 'down' %>" value="down"><span class="glyphicon glyphicon-thumbs-down"></span></button>              
	<button type="button" class="btn btn-default vote-button-show<%= ' active' if vote and vote.value == 'up' %>" value="up"><span class="glyphicon glyphicon-thumbs-up"></span></button>
	<button type="button" class="btn btn-default vote-count" id="vote-count">+<%= getVoteCount @meme %></button>
</div>
<br>
<br>

<!-- Hidden vote forms. -->
<%= form_tag '/vote', method: :post, style: 'display:inline;', id: 'vote_form' do %>
	<%= hidden_field_tag 'vote[user_id]', current_user.id if user_signed_in? %>
	<%= hidden_field_tag 'vote[meme_id]', @meme.id %>
	<%= hidden_field_tag 'vote[value]' %>
<% end %>
<div class="meme-meta-data">
	<% if @author %>
		<p>
		  <strong>Author:</strong>
		  <%= @author %>
		</p>
	<% end %>
	<p>
	  <strong>Context:</strong>
	  <%= @meme.context %>
	</p>
</div>

<% if user_signed_in? and @meme.user_id == current_user.id %>
	<%= link_to "Delete Meme", @meme, :method => :delete, :class => "btn btn-danger meme-actions", :confirm => "Are you sure you want to delete this meme?" %>
<% end %>
<%= link_to "Back", :back, class: "btn btn-default meme-actions" %>
